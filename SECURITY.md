# Security Policy

## Supported Versions

We actively maintain and provide security updates for the following versions of Luau Cryptography:

| Version | Supported          |
| ------- | ------------------ |
| 2.9.x   | :white_check_mark: |
| 2.8.x   | :white_check_mark: |
| < 2.8   | :x:                |

We recommend always using the latest version to make sure you have the most recent security patches and improvements.

## Important Considerations

### Timing Vulnerabilities

While this library has extensive testing and has various security measures, users should be aware that **timing vulnerabilities may exist that cannot be fully fixed due to how Luau compiles and executes functions**. These timing side channels could potentially leak information about cryptographic operations.

For projects needing resistance to timing attacks, consider:
- Running in some sort of isolated environment
- Try https://www.bearssl.org/

That being said, managing timing attacks in Roblox's server environment is very difficult because of network jitter masking microsecond level timing differences and the client's inability to directly measure server execution times.

### Intended Use

This library is **NOT intended for**:
- Exploitation or hacking activities
- Harassment or malicious purposes
- Illegal activities of any kind
- Creating or distributing explicit content

This library is designed for legitimate cryptographic needs in Roblox applications, such as:
- Secure data transmission eg TeleportService
- Data integrity eg CRC32, Adler, SHA2
- Learning purposes

## Reporting a Vulnerability

If you discover a real security issue, please follow these steps:

### 1. **Do NOT Open a Public Issue**

Please do not report security vulnerabilities through public GitHub issues, as this just causes chaos.

### 2. **Report via Discord (Preferred)**

Join the Discord server and report the vulnerability:
- **Discord**: [https://discord.gg/Fg3sM8qKPp](https://discord.gg/Fg3sM8qKPp)
- Contact `@daily3014` or `@xoifail` directly via DM
- Use the bug reporting channel if its not a security vulnerability

### 3. **What to Include**
When reporting a security vulnerability, please provide:

- **Description**: A clear description of the vulnerability
- **Affected Components**: Which algorithms or modules are affected
- **Reproduction Steps**: Detailed steps to reproduce the issue
- **Proof of Concept**: Code showing the vulnerability (if possible)
- **Suggested Fix**: If you have ideas for fixing the issue (optional)

## Security Best Practices

When using this library, follow these recommendations:

### Key Management
- Never hardcode cryptographic keys in your source code, use [secrets](https://create.roblox.com/docs/cloud-services/secrets)
- Use the correct key sizes
- Never expose keys to client
- Consider using [KEK](https://zerotohero.dev/inbox/dek-kek/#:~:text=Key%20Encryption%20Key%20(KEK):%20A%20KEK%20is,DEK%2C%20rather%20than%20encrypting%20the%20data%20directly.)

### Algorithm Selection
- **For hashing**: Use SHA2-256, SHA3-256, or BLAKE3
- **For encryption**: Use ChaCha20 Poly1305 or AES GCM (authenticated encryption)
- **For signatures**: Use Ed25519 or MlDSA for post quantum security
- **For key exchange**: Use X25519 or MlKEM for post quantum security

### Random Number Generation
- Always use the CSPRNG util for key gen etc
- Never use `math.random()` for anything key releated
- Consider using true randomness [example](https://github.com/daily3014/rbx-cryptography/blob/main/examples/TrueRandom.luau)

### Nonce and IV Handling
- Never reuse nonces with the same key
- Use random nonces generated by CSPRNG
- For ChaCha20 Poly1305, use unique nonces for each message

### Input Validation
- Validate all inputs before use
- Check buffer sizes and lengths
- Sanitize data from the client

## Known Limitations
- **Luau Performance**: Some algorithms may be slower than native implementations
- **Side-Channel Resistance**: Limited protection against timing attacks due to Luau constraints
- **Memory Safety**: Zeroing buffers does not guarantee the buffer is gone until gc cycle runs
- **No RSA/Heavy Algorithms**: Some algorithms are too slow for pure Luau

Updates will be announced via:
- GitHub releases
- Discord server announcements
- DevForum thread updates

## Acknowledgments
We can acknowledge anyone who report vulnerabilities (with their permission) in our release notes or security advisories.

## Additional Resources
- **Documentation (Readme file)**: [GitHub Repository](https://github.com/daily3014/rbx-cryptography)
- **Community Support**: [Discord Server](https://discord.gg/Fg3sM8qKPp)
- **DevForum Thread**: [Roblox DevForum](https://devforum.roblox.com/t/fastest-cryptography-library-for-roblox/3680271)

## Contact
For general security questions:
- Discord: [https://discord.gg/Fg3sM8qKPp](https://discord.gg/Fg3sM8qKPp)
